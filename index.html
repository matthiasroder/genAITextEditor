<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matthias Röder's GenAI Text Editor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="documentControls">
    <div id="docNameContainer">
      <span id="currentDocName" class="editable" contenteditable="true"></span>
      <span id="editIndicator" class="hidden">(click to edit)</span>
    </div>
    <button id="newDocBtn">New Document</button>
    <button id="openDocBtn">Open Document</button>
    <div class="downloadOptions">
      <button id="downloadBtn">Download</button>
      <div class="downloadMenu hidden" id="downloadMenu">
        <button id="downloadRightBtn">Generated Text</button>
        <button id="downloadLeftBtn">Outline Text</button>
        <button id="downloadBothBtn">Both Sides</button>
      </div>
    </div>
    <div class="settingsWrapper">
      <button id="settingsBtn" onclick="toggleSettings()">⚙️ Settings</button>
      <div id="settingsPanel" class="settingsPanel">
        <div class="settingsHeader">
          <h3>Editor Settings</h3>
          <button class="closeSettings" onclick="toggleSettings()">×</button>
        </div>
        <div class="settingsItem">
          <label for="apiKey"><strong>API Key</strong></label>
          <input type="text" id="apiKey" placeholder="Enter your API key here...">
        </div>
        <div class="settingsItem">
          <label for="systemPromptText"><strong>System Prompt</strong></label>
          <textarea id="systemPromptText" class="systemPromptText">You are an editor. You help the user write a text. Based on the user input, write the next paragraph as a continuation of the CONCATENATED TEXT. Follow the INSTRUCTIONS in doing so. Output only the paragraph.</textarea>
        </div>
        <div class="settingsItem">
          <label for="promptText"><strong>Instructions</strong></label>
          <textarea id="promptText" class="promptText">Don't be Shakespeare! Don't sound like ChatGPT.</textarea>
        </div>
      </div>
    </div>
    <div class="versionControlsInline">
      <button id="saveVersionBtn">Save Version</button>
      <select id="versionSelector"></select>
      <button id="prevVersionBtn">←</button>
      <button id="nextVersionBtn">→</button>
      <span id="versionInfo"></span>
    </div>
  </div>
  
  <div id="documentListModal" class="modal hidden">
    <div class="modal-content">
      <h3>Your Documents</h3>
      <div id="documentList"></div>
      <div class="modal-footer">
        <button id="closeModalBtn">Close</button>
      </div>
    </div>
  </div>

  <table id="editorTable">
    <tbody>
      <tr>
        <td>
          <div class="firstRowContent">
            <input type="text" id="docName" placeholder="Enter document name..." style="display: none;">
          </div>
        </td>
      </tr>
      <tr>
        <td><strong>Feedback</strong></td>
        <td>
          <textarea id="feedbackText" class="feedbackText" placeholder="Click here to get feedback ..." readonly></textarea>
        </td>
      </tr>
      <tr>
        <td>
          <textarea class="leftText" placeholder="Paragraph outline here. Shift + Down Arrow for new row"></textarea>
        </td>
        <td>
          <textarea class="rightText" placeholder="GenAI text appears here..." readonly></textarea>
        </td>
      </tr>
    </tbody>
  </table>

  <script src="script.js"></script>
</body>
</html>